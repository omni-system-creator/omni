# 2026-01-06 更新日志

## 🧠 知识库模块 (Knowledge Base)

### ✨ 新增功能
- **侧边栏增强**：
  - 知识库列表现在以卡片形式展示，提供更丰富的信息概览。
  - 每个知识库卡片下新增显示：
    - 📄 文件数量
    - 📝 词汇总数
    - 🕒 最后更新时间
  - 优化了知识库列表的排序逻辑，支持更直观的拖拽排序与状态展示。

- **文件浏览器优化 (KbExplorer)**：
  - **排序规则升级**：
    - 实现了"文件夹优先"的排序策略，文件夹始终置顶显示。
    - 文件列表支持按名称排序：
      - 优先显示英文名称文件。
      - 中文名称文件按拼音顺序排列。
  - **交互体验改进**：
    - 修复了上传菜单项点击无响应的问题，现在点击"上传文件"可正常触发文件选择器。

### 🔧 后端改进
- **数据模型扩展**：
  - `KbInfo` 实体及 DTO 新增 `UpdatedAt` (更新时间) 和 `WordCount` (字数) 字段。
  - 实现了文件字数统计逻辑，支持 txt, md, docx 等常见格式的自动统计。
- **数据库迁移**：
  - 解决了 `OmsContext` 的 EF Core 迁移同步问题，确保数据库结构与实体定义一致。

## 🐛 问题修复
- 修复了前端构建时的类型定义错误。
- 解决了后端 API 在特定场景下的文件锁定问题。
